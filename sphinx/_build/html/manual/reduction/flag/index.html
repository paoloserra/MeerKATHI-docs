

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Flag data &mdash; MeerKATHI  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Cross-calibration" href="../crosscal/index.html" />
    <link rel="prev" title="Prepare pipeline and data" href="../prepare/index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> MeerKATHI
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../meerkathiREADME.html">Download &amp; Install</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../intro/index.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../configfile/index.html">Configuration file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../products/index.html">Data products</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Data reduction</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../prepare/index.html">Prepare pipeline and data</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Flag data</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../crosscal/index.html">Cross-calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../selfcal/index.html">Continuum imaging and self-calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../line/index.html">Spectral line imaging</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../workers/index.html">Workers parameters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../credits/index.html">Acknowledgements</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">MeerKATHI</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Manual</a> &raquo;</li>
        
          <li><a href="../index.html">Data reduction</a> &raquo;</li>
        
      <li>Flag data</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/manual/reduction/flag/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="flag-data">
<h1>Flag data<a class="headerlink" href="#flag-data" title="Permalink to this headline">Â¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<p><strong>[relevant workers:</strong> <a class="reference internal" href="../../workers/flagging/index.html#flagging"><span class="std std-ref">flagging</span></a><strong>]</strong></p>
<p>The <a class="reference internal" href="../../workers/flagging/index.html#flagging"><span class="std std-ref">flagging</span></a> worker can run on the input .MS files or on .MS files created by
MeerKATHI at various stages of the pipeline (e.g., by the <a class="reference internal" href="../../workers/split_target/index.html#split-target"><span class="std std-ref">split_target</span></a> worker).
In the latter case the name of the .MS files to be flagged is based on that of the input
.MS files, with a label added before the extension. Users can set the label with the
<a class="reference internal" href="../../workers/flagging/index.html#flagging-label"><span class="std std-ref">flagging: label</span></a> parameter in this worker.</p>
<p>The <a class="reference internal" href="../../workers/flagging/index.html#flagging"><span class="std std-ref">flagging</span></a> worker allows users to flag the data in a variety of ways. Unless
otherwise stated below, flagging is done with the CASA task FLAGDATA. Follow the links
below for a detailed documentation of the individual flagging modes.</p>
<ul class="simple">
<li><p>Flag on autocorrelations to catch antennas with obvious problems using the custom
program POLITSIYAKAT (<a class="reference internal" href="../../workers/flagging/index.html#flagging-autoflag-autocorr-powerspectra"><span class="std std-ref">flagging: autoflag_autocorr_powerspectra</span></a>).
Individual scans are compared to the median of all scans per field and channel; and
individual antennas are compared to the median of all antennas per scan, field and channel.
Both methods have their own flagging threshold, which users can tune. Users can also set
which column and which fields to flag.</p></li>
<li><p>Flag all autocorrelations (<a class="reference internal" href="../../workers/flagging/index.html#flagging-flag-autocorr"><span class="std std-ref">flagging: flag_autocorr</span></a>).</p></li>
<li><p>Flag specific portions of the beginning and/or end of each scan
(<a class="reference internal" href="../../workers/flagging/index.html#flagging-quack-flagging"><span class="std std-ref">flagging: quack_flagging</span></a>).
As in the CASA task FLAGDATA, users can set the time interval that should be flagged
and the quackmode.</p></li>
<li><p>Flag shadowed antennas (<a class="reference internal" href="../../workers/flagging/index.html#flagging-flag-shadow"><span class="std std-ref">flagging: flag_shadow</span></a>).
Users can tune the amount of shadowing allowed before flagging an antenna.
For observations obtained with a MeerKAT subarray it is possible to include offline
antennas in the shadowing calculation.</p></li>
<li><p>Flag selected channel ranges (<a class="reference internal" href="../../workers/flagging/index.html#flagging-flag-spw"><span class="std std-ref">flagging: flag_spw</span></a>).</p></li>
<li><p>Flag selected time ranges (<a class="reference internal" href="../../workers/flagging/index.html#flagging-flag-time"><span class="std std-ref">flagging: flag_time</span></a>).</p></li>
<li><p>Flag selected antennas (<a class="reference internal" href="../../workers/flagging/index.html#flagging-flag-antennas"><span class="std std-ref">flagging: flag_antennas</span></a>).
Within this task, users can limit the flagging of selected antennas to a
selected timerange.</p></li>
<li><p>Flag selected scans (<a class="reference internal" href="../../workers/flagging/index.html#flagging-flag-scan"><span class="std std-ref">flagging: flag_scan</span></a>).</p></li>
<li><p>Flag according to a static mask of bad frequency ranges using the custom program
RFIMASKER (<a class="reference internal" href="../../workers/flagging/index.html#flagging-static-mask"><span class="std std-ref">flagging: static_mask</span></a>). The mask file should
be located in the <em>input</em> directory set by <a class="reference internal" href="../../workers/general/index.html#general-input"><span class="std std-ref">general: input</span></a>.
Users can decide to limit the flagging to a selected UV range. This could be useful
to flag short baselines only.</p></li>
<li><p>Flag with AOFlagger (<a class="reference internal" href="../../workers/flagging/index.html#flagging-autoflag-rfi"><span class="std std-ref">flagging: autoflag_rfi</span></a>). The
AOFlagger strategy file should be located in the <em>input</em> directory set by
<a class="reference internal" href="../../workers/general/index.html#general-input"><span class="std std-ref">general: input</span></a>.
MeerKATHI comes with a number of strategy files, which are located in the
meerkathi/data/meerkat_files directory and are copied to the <em>input</em> directory by the
<a class="reference internal" href="../../workers/general/index.html#general"><span class="std std-ref">general</span></a> worker. However, users can copy their own strategy file to the same
<em>input</em> directory and use it within MeerKATHI.
Additional parameters allow users to limit the execution of AOFlagger to selected
columns, fields or frequency bands of the .MS files. AOFlagger is described by
Offringa et al. (2012), A&amp;A, 539, A95.</p></li>
</ul>
<p>Finally, a summary of the flags can be obtained with <a class="reference internal" href="../../workers/flagging/index.html#flagging-flagging-summary"><span class="std std-ref">flagging: flagging_summary</span></a>.
The summary is available at the relevant log file (see <a class="reference internal" href="../../products/index.html#products"><span class="std std-ref">Data products</span></a>).</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../crosscal/index.html" class="btn btn-neutral float-right" title="Cross-calibration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../prepare/index.html" class="btn btn-neutral float-left" title="Prepare pipeline and data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, MeerKATHI team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>